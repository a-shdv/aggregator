<!doctype html>
<html lang="en">
<div th:insert="~{/partials/head :: head}"></div>
<style>
    ::selection {
        background: #ffc107;
        color: #fff
    }

    form .form-control:focus {
        box-shadow: none !important;
        -moz-box-shadow: none !important;
        -webkit-box-shadow: none !important;
        -o-box-shadow: none !important;
        border-color: #ffc107;
    }

    .page-link {
        color: #ffc107
    }

    .page-link:hover {
        color: #ffc107
    }

    input[type=radio], input[type=checkbox] {
        outline: none;
        box-shadow: none !important;
        -moz-box-shadow: none !important;
        -webkit-box-shadow: none !important;
        -o-box-shadow: none !important;
    }

    input[type=radio]:checked, input[type=checkbox]:checked {
        background-color: #ffc107;
        border-color: rgb(205, 143, 7);
        outline: none;
        box-shadow: none !important;
        -moz-box-shadow: none !important;
        -webkit-box-shadow: none !important;
        -o-box-shadow: none !important;
    }
</style>
<body>
<div th:insert="~{/partials/navbar :: navbar}"></div>

<div th:if="${isParserAvailable == true}">
    <!--Вакансия-->
    <div class="container mt-5" id="vacancy">
        <div class="row justify-content-center">
            <form class="col-lg-4" id="vacancyForm" th:action="@{/vacancies}" th:method="post">
                <h2>Вакансия</h2>
                <input id="username" th:value="${#authentication.principal.username}" type="hidden">

                <!--Название вакансии-->
                <div class="form-group">
                    <label for="title">Название вакансии</label>
                    <input class="form-control" id="title" name="title" placeholder="Программист" required type="text">
                </div>

                <!--Зарплата-->
                <div class="form-group">
                    <label for="salary">Заработная плата (от ...)</label>
                    <input class="form-control" id="salary" min="0" name="salary" type="number" value="0">
                </div>

                <!--Заработная плата указана-->
                <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label" for="onlyWithSalary"> Заработная плата указана</label>
                        <input class="form-check-input" id="onlyWithSalary" name="onlyWithSalary" type="checkbox">
                        <br><br>
                    </div>
                </div>

                <!--Опыт работы-->
                <div class="form-group">
                    <label class="form-check-label" for="workExperience">Опыт работы</label>
                    <div class="form-check" id="workExperience">
                        <!--Не имеет значения-->
                        <input checked class="form-check-input" id="0" name="experience" type="radio" value="0">
                        <label class="form-check-label" for="0">Не имеет значения</label>
                        <br>
                        <!--Нет опыта-->
                        <input class="form-check-input" id="1" name="experience" type="radio" value="1">
                        <label class="form-check-label" for="1">Нет опыта</label>
                        <br>
                        <!--От 1 года до 3 лет-->
                        <input class="form-check-input" id="2" name="experience" type="radio" value="2">
                        <label class="form-check-label" for="2">От 1 года до 3 лет</label>
                        <br>
                        <!--От 3 до 6 лет-->
                        <input class="form-check-input" id="3" name="experience" type="radio" value="3">
                        <label class="form-check-label" for="3">От 3 до 6 лет</label>
                        <br>
                        <!--Более 6 лет-->
                        <input class="form-check-input" id="4" name="experience" type="radio" value="4">
                        <label class="form-check-label" for="4">Более 6 лет</label>
                        <br> <br>
                    </div>
                </div>

                <!--Город-->
                <div class="form-group">
                    <label>Город</label>
                    <label>
                        <select id="cityId" name="cityId" required>
                            <option disabled value="">Выберите город</option>
                            <option selected value="0">Москва</option>
                            <option value="1">Санкт-Петербург</option>
                            <option value="2">Екатеринбург</option>
                            <option value="3">Новосибирск</option>
                            <option value="4">Казань</option>
                            <option value="5">Нижний Новгород</option>
                            <option value="6">Ульяновск</option>
                            <option value="7">Тольятти</option>
                            <option value="8">Астрахань</option>
                            <option value="9">Уфа</option>
                        </select>
                    </label>
                    <br><br>
                </div>

                <div class="form-group">
                    <!--'Можно удаленно'-->
                    <div class="form-check">
                        <label class="form-check-label" for="isRemoteAvailable">Только удаленно</label>
                        <input class="form-check-input" id="isRemoteAvailable" name="isRemoteAvailable" type="checkbox">
                        <br><br>
                    </div>
                </div>

                <!--isConsumingCancelled-->
                <!--                <div>-->
                <!--                    <input type="hidden" th:value="false" name="isConsumingCancelled">-->
                <!--                </div>-->

                <!--Отправка формы-->
                <input class="btn btn-md btn-warning mt-3" id="searchVacanciesButton" type="submit" value="Найти">
            </form>
        </div>
    </div>

    <!--Прогресс бар-->
    <div class="container justify-content-center align-items-center mt-5 mb-5">
        <p class="text-warning text-center" id="counter" style="display: none">0%</p>
        <div class="progress" id="progressbar" style="display: none">
            <div valuemax="60" aria-valuemin="0" class="progress-bar bg-warning"
                 id="progressbar-loader" role="progressbar" style="width: 0%; max-width: 100%">
            </div>
            <!--th:action="@{/stop-consuming-messages}"-->
        </div>
        <!--Отменить-->
        <!--        <form id="cancelSearchForm" class="text-center" th:method="post" th:action="@{/}"-->
        <!--              style="display: none">-->
        <!--            &lt;!&ndash;                <input type="hidden" th:value="true" name="isConsumingCancelled">&ndash;&gt;-->
        <!--            <input class="btn btn-md btn-warning mt-3" type="submit" value="Отменить">-->
        <!--        </form>-->
        <!--Ok-->
        <div style="text-align: center">
            <a id="okButton" style="display: none" target="_blank" th:href="@{/vacancies}">
                <input class="btn btn-md btn-success mt-3 text-center" type="button" value="Перейти">
            </a>
        </div>

        <!--        <form id="okForm" class="text-center" th:method="post"-->
        <!--              style="display: none">-->
        <!--            &lt;!&ndash;                <input type="hidden" th:value="true" name="isConsumingCancelled">&ndash;&gt;-->
        <!--            <input class="btn btn-md btn-success mt-3" type="submit" value="Перейти">-->
        <!--        </form>-->
    </div>


</div>

<div style="display: flex; justify-content: center; align-items: center; height: 100vh;"
     th:if="${isParserAvailable == false}">
    <div class="alert alert-danger col-6 mb-5 mt-5" role="alert">
        Извините, в данный момент сервис недоступен!
    </div>
</div>

<div th:insert="~{/partials/footer :: footer}"></div>
<script th:inline="javascript" th:src="@{/js/home.js}"></script>
</body>
</html>